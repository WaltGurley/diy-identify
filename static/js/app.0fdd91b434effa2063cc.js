webpackJsonp([0],[,,function(t,e,a){function i(t){a(10)}var n=a(0)(a(6),a(19),i,null,null);t.exports=n.exports},,function(t,e,a){function i(t){a(12)}var n=a(0)(a(7),a(21),i,null,null);t.exports=n.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),n=a(4),s=a.n(n);i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:s.a}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),n={};e.default={name:"icon",props:{name:{type:String,validator:function(t){return t?t in n||(i.a.util.warn('Invalid prop: prop "icon" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.',this),!1):null}},scale:[Number,String],spin:Boolean,inverse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(i.a.util.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},clazz:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse}},icon:function(){return this.name?n[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,a=t.height;return Math.max(e,a)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,a=0;this.$children.forEach(function(t){e=Math.max(e,t.width),a=Math.max(a,t.height)}),this.childrenWidth=e,this.childrenHeight=a,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(a-t.height)/2})}},register:function(t){for(var e in t){var a=t[e];a.paths||(a.paths=[]),a.d&&a.paths.push({d:a.d}),a.polygons||(a.polygons=[]),a.points&&a.polygons.push({points:a.points}),n[e]=a}},icons:n}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(17),n=a.n(i),s=a(18),r=a.n(s),o=a(15),c=a.n(o),d=a(14),l=a.n(d),h=(a(16),a(2)),u=a.n(h);e.default={name:"app",components:{Card:n.a,Modal:r.a,Icon:u.a},data:function(){return{pageInfo:[],imageInfo:[],dataForCurrentState:[],currentImage:{},newCardButtonText:"Start Game",identifiedCount:0,pageInfoLoaded:!1,imageInfoLoaded:!1,cardSwitch:!0,showInfo:!1,appState:"start",buttonDisabled:!0}},methods:{startGame:function(){this.dataForCurrentState=this.pageInfo,this.dataForCurrentState.push(this.imageInfo.length)},startOver:function(){this.dataForCurrentState=this.pageInfo,this.dataForCurrentState.push(this.imageInfo.length)},getRandomChoicesSetImg:function(){var t=this;console.log("getting choices");this.currentImage=l.a.sample(l.a.filter(this.imageInfo,function(t){return!t.identified}));var e=l.a.map(this.imageInfo,function(t){return t.entityname}),a=l.a.uniq(e);this.dataForCurrentState=l.a.sampleSize(l.a.filter(a,function(e){return e!==t.currentImage.entityname}),2),this.dataForCurrentState.push(this.currentImage.entityname),this.dataForCurrentState=l.a.shuffle(this.dataForCurrentState)},setIdentified:function(){this.currentImage.identified=!0,this.identifiedCount=l.a.filter(this.imageInfo,function(t){return t.identified}).length},getNewCard:function(){if(console.log(this.appState),"start"===this.appState?this.appState="in progress":"end"===this.appState&&(this.imageInfo.forEach(function(t){t.identified=!1}),this.identifiedCount=0,this.appState="in progress"),this.identifiedCount===this.imageInfo.length)return this.appState="end",this.cardSwitch=!this.cardSwitch,void(this.newCardButtonText="Play Again");this.getRandomChoicesSetImg(),this.cardSwitch=!this.cardSwitch,this.newCardButtonText="Skip Card"},changeNewCardButtonText:function(){"in progress"===this.appState?this.newCardButtonText="Next Card":"start"===this.appState&&(this.buttonDisabled=!1)}},beforeMount:function(){var t=this;fetch("./static/config.json").then(function(t){return t.json()}).then(function(t){return c.a.urlToKey(t.GoogleSheetsURL)}).then(function(t){return c.a.getWorkbook(t).then(function(e){var a=l.a.findIndex(e.sheets,function(t){return"Image Info"===t.name}),i=l.a.findIndex(e.sheets,function(t){return"App Info"===t.name});return{spreadsheetKey:t,entitySheet:e.sheets[a].id,appSheet:e.sheets[i].id}})}).then(function(e){c.a.getSheet(e.spreadsheetKey,e.appSheet).then(function(e){t.pageInfo=e.rows[0],t.pageInfoLoaded=!0,t.startGame()}),c.a.getSheet(e.spreadsheetKey,e.entitySheet).then(function(e){e.rows.forEach(function(t){t.identified=!1}),t.imageInfo=e.rows,t.imageInfoLoaded=!0})})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(25),n=a.n(i),s=new n.a({bgOpacity:0,onBeforeOpen:function(){document.querySelector(".img-zoomable").setAttribute("style","border-radius: 6px;"),document.querySelector("#new-card-button").setAttribute("disabled",!0)},onClose:function(){document.querySelector(".img-zoomable").setAttribute("style","border-bottom-right-radius: 0; border-bottom-left-radius: 0"),document.querySelector("#new-card-button").removeAttribute("disabled")}});e.default={name:"card",props:["cardData","correctImage","stateOfApp"],data:function(){return{isFlipped:!1,isCorrect:!1}},methods:{flipped:function(t){this.isFlipped=!this.isFlipped,this.$emit("choiceMade"),this.checkAnswer(t),console.log(this.stateOfApp)},checkAnswer:function(t){this.correctImage.entityname===t?(this.correctImage.identified=!0,this.isCorrect=!0,this.$emit("identified")):this.isCorrect=!1}},computed:{imageSource:function(){return"./static/images/"+this.correctImage.imagename}},mounted:function(){s.listen(".img-zoomable")}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal",props:["appInfo"],data:function(){return{}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,a){function i(t){a(11)}var n=a(0)(a(8),a(20),i,"data-v-7301273a",null);t.exports=n.exports},function(t,e,a){function i(t){a(13)}var n=a(0)(a(9),a(22),i,"data-v-c803c12c",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:t.clazz,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e){return a("path",t._b({},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e){return a("polygon",t._b({},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[a("g",{domProps:{innerHTML:t._s(t.icon.raw)}})]:t._e()])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return"start"===t.stateOfApp?a("div",{staticClass:"card"},[a("div",{staticClass:"info-card card-front will-flip",class:{flippedToFront:t.isFlipped}},[a("h2",{staticClass:"card-header start-card-header"},[t._v(t._s(t.cardData[0]))]),t._v(" "),a("p",{staticClass:"card-paragraph start-card-paragraph"},[t._v("\n      Test your ability to identify "),a("span",{staticClass:"important-text"},[t._v(t._s(t.cardData[2]))]),t._v("!\n    ")]),t._v(" "),t._m(0),t._v(" "),a("button",{staticClass:"card-button start-card-button",on:{click:function(e){t.flipped("")}}},[t._v("\n      Next\n    ")])]),t._v(" "),a("div",{staticClass:"info-card card-back will-flip",class:{flippedToBack:!t.isFlipped}},[a("h2",{staticClass:"card-header start-card-header"},[t._v(t._s(t.cardData[0]))]),t._v(" "),a("p",{staticClass:"card-paragraph start-card-paragraph"},[t._v("\n      Keep track of your progress with the score below. It shows you how many images you have correctly identified out of the total. Don't worry if you get one wrong. Any incorrect cards will be put back into the  deck for you to try again.\n    ")]),t._v(" "),t._m(1)])]):"in progress"===t.stateOfApp?a("div",{staticClass:"card"},[a("div",{staticClass:"card-front will-flip",class:{flippedToFront:t.isFlipped}},[a("div",{staticClass:"img-holder"},[a("img",{staticClass:"img-responsive img-zoomable",attrs:{src:t.imageSource,alt:"Can you tell what is in this image?","data-action":"zoom"}})]),t._v(" "),a("div",{staticClass:"question-choices"},[a("h2",{staticClass:"card-header question"},[t._v("What is this?")]),t._v(" "),a("div",{staticClass:"buttons"},t._l(t.cardData,function(e){return a("button",{staticClass:"card-button",on:{click:function(a){t.flipped(e)}}},[t._v("\n          "+t._s(e)+"\n        ")])}))])]),t._v(" "),a("div",{staticClass:"card-back will-flip",class:{flippedToBack:!t.isFlipped}},[a("div",{staticClass:"img-holder"},[a("img",{staticClass:"img-responsive img-zoomable",attrs:{src:t.imageSource,alt:"Can you tell what is in this image?","data-action":"zoom"}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isCorrect,expression:"isCorrect"}],staticClass:"correct-answer"},[a("h2",{staticClass:"card-header"},[t._v("You are correct!")]),t._v(" "),a("h2",{staticClass:"card-header"},[t._v(t._s(t.correctImage.entityname))]),t._v(" "),a("p",{staticClass:"card-paragraph"},[t._v(t._s(t.correctImage.entitydescription))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCorrect,expression:"!isCorrect"}],staticClass:"incorrect-answer"},[a("h2",{staticClass:"card-header"},[t._v("Sorry, that's incorrect.")])])])]):"end"===t.stateOfApp?a("div",{staticClass:"card"},[a("div",{staticClass:"info-card card-front will-flip",class:{flippedToFront:t.isFlipped}},[a("h2",{staticClass:"card-header start-card-header"},[t._v("Congratulations!")]),t._v(" "),a("h2",{staticClass:"card-paragraph start-card-paragraph"},[t._v("You have identified all the images!")]),t._v(" "),t._m(2)])]):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"card-list card-paragraph start-card-paragraph"},[a("li",{staticClass:"card-list-item"},[t._v("You will be presented with an image and three choices.")]),t._v(" "),a("li",{staticClass:"card-list-item"},[t._v("Select the choice that identifies what is in the image.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"card-paragraph start-card-paragraph"},[t._v("\n      Select "),a("span",{staticClass:"important-text"},[t._v("Start Game")]),t._v(" below to begin!\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"card-paragraph start-card-paragraph"},[t._v("\n      Select "),a("span",{staticClass:"important-text"},[t._v("Play Again")]),t._v(" below to go through the images again.\n    ")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"slide-down"}},[t.pageInfoLoaded?a("nav",[a("h2",{staticClass:"app-title"},[t._v(t._s(t.pageInfo.appname))]),t._v(" "),a("h3",{staticClass:"group-name"},[t._v("Digital Library Initiatives")]),t._v(" "),a("icon",{staticClass:"info-button",attrs:{name:"info-circle"},nativeOn:{click:function(e){t.showInfo=!t.showInfo}}})],1):t._e()]),t._v(" "),a("div",{staticClass:"main-container"},[a("transition",{attrs:{name:"slide-left"}},[t.imageInfoLoaded?a("div",{staticClass:"app-containers card-container"},[a("transition",{attrs:{name:"switch-card"}},[t.cardSwitch?a("card",{key:"card-1",attrs:{cardData:t.dataForCurrentState,correctImage:t.currentImage,stateOfApp:t.appState},on:{identified:t.setIdentified,choiceMade:t.changeNewCardButtonText}}):a("card",{key:"card-2",attrs:{cardData:t.dataForCurrentState,correctImage:t.currentImage,stateOfApp:t.appState},on:{identified:t.setIdentified,choiceMade:t.changeNewCardButtonText}})],1)],1):t._e()]),t._v(" "),a("transition",{attrs:{name:"slide-right"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.buttonDisabled,expression:"!buttonDisabled"}],staticClass:"app-containers score-container"},[a("h2",{staticClass:"score"},[t._v(t._s(t.identifiedCount)+" / "+t._s(t.imageInfo.length))])])]),t._v(" "),a("transition",{attrs:{name:"slide-up"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.buttonDisabled,expression:"!buttonDisabled"}],staticClass:"app-containers main-controls"},[a("button",{staticClass:"main-controls-buttons",attrs:{id:"new-card-button",disabled:t.buttonDisabled},on:{click:t.getNewCard}},[t._v(t._s(t.newCardButtonText))])])])],1),t._v(" "),t.showInfo?a("modal",{attrs:{appInfo:t.pageInfo},on:{closeModal:function(e){t.showInfo=!1}}}):t._e(),t._v(" "),a("transition",{attrs:{name:"fade-out"}},[t.imageInfoLoaded?t._e():a("div",{staticClass:"loading-icon"})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-background",on:{click:function(e){t.$emit("closeModal")}}},[a("div",{staticClass:"modal-holder"},[a("h4",[t._v("About "+t._s(t.appInfo.appname))]),t._v(" "),a("p",{staticClass:"modal-paragraph"},[t._v(t._s(t.appInfo.appdescription))]),t._v(" "),a("a",{attrs:{href:t.appInfo.sitelink}},[t._v(t._s(t.appInfo.sitelink))]),t._v(" "),a("button",{staticClass:"modal-button",on:{click:function(e){t.$emit("closeModal")}}},[t._v("Close")])])])])])},staticRenderFns:[]}}],[5]);
//# sourceMappingURL=app.0fdd91b434effa2063cc.js.map